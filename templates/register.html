{% extends "base.html" %}
{% set active = "reg" %}
{% block title %}Register{% endblock %}
{% block header %}Register{% endblock %}

{% block content %}
<form method="get" class="mb-4">
  <select name="account" onchange="this.form.submit()"
          class="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500">
    <option value="">Select account...</option>
    {% for a in accounts %}
    <option value="{{ a }}" {% if a == account %}selected{% endif %}>{{ a }}</option>
    {% endfor %}
  </select>
</form>

{% if rows %}
<div class="space-y-2">
  {% for r in rows %}
  <div class="bg-gray-900 border border-gray-800 rounded-lg px-3 py-2">
    <div class="flex flex-col sm:flex-row sm:items-center sm:gap-4">
      <span class="text-xs text-gray-500 sm:w-24 shrink-0">{{ r.date }}</span>
      <span class="text-sm text-gray-300 truncate sm:flex-1">{{ r.description }}</span>
      <div class="flex justify-between sm:gap-6 sm:shrink-0 mt-1 sm:mt-0">
        <span class="font-mono text-sm whitespace-nowrap {% if r.amount.startswith('-') %}text-red-400{% else %}text-green-400{% endif %}">{{ r.amount }}</span>
        <span class="font-mono text-xs whitespace-nowrap {% if r.running.startswith('-') %}text-red-400{% else %}text-blue-400{% endif %}">{{ r.running }}</span>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% elif account %}
<p class="text-gray-500 text-center py-8">No entries for {{ account }}.</p>
{% else %}
<p class="text-gray-500 text-center py-8">Select an account above.</p>
{% endif %}
{% endblock %}
