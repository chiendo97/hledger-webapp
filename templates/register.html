{% extends "base.html" %}
{% set active = "reg" %}
{% block title %}Register{% endblock %}
{% block header %}Register{% endblock %}

{% block content %}
<form method="get" class="mb-4">
  <input type="hidden" name="month" value="{{ month }}">
  <select name="account" onchange="this.form.requestSubmit()"
          class="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500">
    <option value="">Select account...</option>
    {% for a in accounts %}
    <option value="{{ a }}" {% if a == account %}selected{% endif %}>{{ a }}</option>
    {% endfor %}
  </select>
</form>

{% if account %}
<div id="page-content"
     hx-get="/register/partial?account={{ account | urlencode }}"
     hx-trigger="load" hx-swap="innerHTML">
  {% include "partials/skeleton.html" %}
</div>
{% else %}
<p class="text-gray-500 text-center py-8">Select an account above.</p>
{% endif %}
{% endblock %}
