{% extends "base.html" %}
{% set active = "reg" %}
{% block title %}Register{% endblock %}
{% block header %}Register{% endblock %}

{% block content %}
<form method="get" class="mb-4">
  <select name="account" onchange="this.form.submit()"
          class="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500">
    <option value="">Select account...</option>
    {% for a in accounts %}
    <option value="{{ a }}" {% if a == account %}selected{% endif %}>{{ a }}</option>
    {% endfor %}
  </select>
</form>

{% if rows %}
<div class="space-y-2">
  {% for r in rows %}
  <div class="bg-gray-900 border border-gray-800 rounded-lg px-3 py-2">
    <div class="flex justify-between items-center mb-1">
      <span class="text-xs text-gray-500">{{ r.date }}</span>
      <span class="font-mono text-xs text-blue-400">{{ r.running }}</span>
    </div>
    <div class="flex justify-between items-baseline">
      <span class="text-sm text-gray-300 truncate mr-2">{{ r.description }}</span>
      <span class="font-mono text-sm text-gray-200 whitespace-nowrap shrink-0">{{ r.amount }}</span>
    </div>
  </div>
  {% endfor %}
</div>
{% elif account %}
<p class="text-gray-500 text-center py-8">No entries for {{ account }}.</p>
{% else %}
<p class="text-gray-500 text-center py-8">Select an account above.</p>
{% endif %}
{% endblock %}
