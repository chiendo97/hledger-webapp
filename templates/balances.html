{% extends "base.html" %}
{% set active = "bal" %}
{% block title %}Balances{% endblock %}
{% block header %}Balances{% endblock %}

{% block content %}
{% include "partials/depth_selector.html" %}
<form hx-get="/balances" hx-target="main" hx-swap="innerHTML" hx-select="main > *"
      class="mb-4">
  <input type="hidden" name="depth" value="{{ depth }}">
  <input type="text" name="q" value="{{ q }}" placeholder="Filter accounts..."
         class="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500"
         hx-get="/balances" hx-target="main" hx-trigger="keyup changed delay:300ms" hx-swap="innerHTML" hx-select="main > *"
         hx-include="[name=depth]">
</form>

<div class="space-y-1">
  {% for row in rows %}
  <a href="/register?account={{ row.name }}" class="block bg-gray-900 border border-gray-800 rounded-lg px-3 py-2 hover:border-gray-600">
    <div class="text-xs text-gray-400 truncate" style="padding-left: {{ row.depth * 12 }}px">{{ row.name }}</div>
    <div class="text-sm font-mono text-gray-200 text-right">{{ row.amounts }}</div>
  </a>
  {% else %}
  <p class="text-gray-500 text-center py-8">No data.</p>
  {% endfor %}
</div>
{% endblock %}
